{"version":3,"sources":["components/App.js","components/Dropzone.js","components/pages/upload.js","components/router.js","redux/slices/filterSlice.js","redux/slices/resourcesSlice.js","redux/store.js","index.js"],"names":["App","_jsxs","className","children","_jsx","href","target","rel","style","width","maxWidth","margin","Outlet","baseStyle","flex","display","flexDirection","alignItems","padding","transition","focusedStyle","boxShadow","acceptStyle","rejectStyle","backgroundColor","Dropzone","_ref","onChange","_useDropzone","useDropzone","maxFiles","accept","onDrop","getRootProps","getInputProps","isFocused","isDragAccept","isDragReject","useMemo","_objectSpread","class","thumbsContainer","flexWrap","marginTop","thumb","borderRadius","border","marginBottom","marginRight","height","boxSizing","thumbInner","minWidth","overflow","img","Upload","_useState","useState","_useState2","_slicedToArray","files","setFiles","useCallback","acceptedFiles","map","file","Object","assign","preview","URL","createObjectURL","length","_Fragment","alt","concat","path","size","title","src","onLoad","revokeObjectURL","name","router","createHashRouter","element","pushReplaceSearchParams","new_searchParams","url","window","location","old_search_params_string","searchParams","toString","new_search_params_string","URLSearchParams","_toConsumableArray","Array","from","entries","filter","key","has","_ref3","value","String","sort","_ref5","_ref6","key_a","key_b","localeCompare","origin","pathname","history","pushState","filterSlice","createSlice","initialState","tags","selectedTags","queryText","latitude","longitude","reducers","setTags","state","action","payload","setSelectedTags","toggleTag","includes","tag","push","Boolean","join","setQueryText","setGeoLocation","clearGeoLocation","_filterSlice$actions","actions","resourcesSlice","resources","setResources","createAsyncThunk","_asyncToGenerator","_regeneratorRuntime","mark","_callee","thunkApi","_ref2","dispatch","getState","_getState","search_params_data","filtered_selectedTags","search_params","wrap","_context","prev","next","console","log","lat","lon","isArray","q","urls","api","fetch","then","response","json","data","stop","_x","_x2","apply","arguments","configureStore","reducer","filterReducer","resourcesReducer","isLocalhost","hostname","env","frontend","dev_domain","ReactDOM","render","React","StrictMode","ReduxProvider","store","RouterProvider","fallbackElement","document","getElementById"],"mappings":"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","file":"static/js/main.1c46357a.chunk.js","sourcesContent":["import React from 'react'\nimport './App.css'\n\nimport '../fonts/ubuntu-v15-latin/index.css'\nimport '../fonts/ubuntu-mono-v10-latin/index.css'\n\nimport {\n  Outlet,\n} from 'react-router-dom'\n\nexport default function App() {\n\n  return <div className={`app_wrapper`}>\n    <header>\n      <h1>ðŸ’¶ Money</h1>\n\n      <a href=\"https://github.com/thomasrosen/money\" target=\"_blank\" rel=\"noreferrer\">Sourcecode</a>\n    </header>\n\n    <main>\n      <div style={{\n        width: 'var(--content-box-width)',\n        maxWidth: '100%',\n        margin: '0 auto',\n      }}>\n        <p><strong>A very simple tool to keep track of some of your spendings.</strong></p>\n\n        <p>The text recognition is handled on the server. But nothing is permanently stored there. All data is only on here in this browser on your computer. You can <strong>export and import</strong> the data to backup or move it to a different browser.</p>\n\n        <p>\n          The website is maintained by <a href=\"https://thomasrosen.me/\" target=\"_blank\" rel=\"noreferrer\">Thomas Rosen</a>. You can contact me at <a href=\"mailto:money@thomasrosen.me\">money@thomasrosen.me</a>.\n        </p>\n      </div>\n      <br />\n      <br />\n\n      <Outlet />\n    </main>\n\n  </div>\n}\n","import React, { useMemo } from 'react';\nimport { useDropzone } from 'react-dropzone';\n\nconst baseStyle = {\n  flex: 1,\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  padding: '20px',\n  width: '100%',\n  transition: 'box-shadow .2s ease, background-color .2s ease',\n}\n\nconst focusedStyle = {\n  boxShadow: '0 0 0 5px var(--primary-color)',\n}\n\nconst acceptStyle = {\n  boxShadow: '0 0 0 5px var(--primary-color)',\n}\n\nconst rejectStyle = {\n  backgroundColor: 'var(--error-color)',\n  boxShadow: '0 0 0 5px var(--error-color)',\n}\n\n\nfunction Dropzone({ onChange }) {\n  const {\n    getRootProps,\n    getInputProps,\n    isFocused,\n    isDragAccept,\n    isDragReject,\n  } = useDropzone({\n    maxFiles: 1,\n    accept: {\n      'image/*': ['.jpeg', '.png']\n    },\n    onDrop: onChange,\n  })\n\n  const style = useMemo(() => ({\n    ...baseStyle,\n    ...(isFocused ? focusedStyle : {}),\n    ...(isDragAccept ? acceptStyle : {}),\n    ...(isDragReject ? rejectStyle : {})\n  }), [\n    isFocused,\n    isDragAccept,\n    isDragReject\n  ])\n\n  return (\n    <section className=\"container\">\n      <button class=\"primary\" {...getRootProps({ style })}>\n        <input {...getInputProps()} />\n        {\n          isDragReject\n          ? <strong>Only JPG and PNG images are allowed!</strong>\n          : <strong>Click or Drop an image here!</strong>\n        }\n      </button>\n    </section>\n  )\n}\n\nexport default Dropzone\n","import { useState, useCallback } from 'react'\nimport Dropzone from '../Dropzone.js'\n\nconst thumbsContainer = {\n  display: 'flex',\n  flexDirection: 'row',\n  flexWrap: 'wrap',\n  marginTop: 16\n};\n\nconst thumb = {\n  display: 'inline-flex',\n  borderRadius: 2,\n  border: '1px solid #eaeaea',\n  marginBottom: 8,\n  marginRight: 8,\n  width: 100,\n  height: 100,\n  padding: 4,\n  boxSizing: 'border-box'\n};\n\nconst thumbInner = {\n  display: 'flex',\n  minWidth: 0,\n  overflow: 'hidden'\n};\n\nconst img = {\n  display: 'block',\n  width: 'auto',\n  height: '100%'\n};\n\nexport default function Upload() {\n\n  const [files, setFiles] = useState([])\n\n  const onChange = useCallback(acceptedFiles => {\n    acceptedFiles = acceptedFiles.map(file => Object.assign(file, {\n      preview: URL.createObjectURL(file)\n    }))\n\n    setFiles(acceptedFiles)\n  }, [])\n\n  return <div>\n    <Dropzone onChange={onChange} />\n    <br />\n    <br />\n\n    {\n      files.length > 0\n      ? <>\n        <h4>Files</h4>\n        <aside style={thumbsContainer}>\n        {\n          files\n          .map(file => (\n            <div style={thumb} key={file.name}>\n              <div style={thumbInner}>\n                <img\n                  alt={`${file.path} - ${file.size} bytes`}\n                  title={`${file.path} - ${file.size} bytes`}\n                  src={file.preview}\n                  style={img}\n                  // Revoke data uri after image is loaded\n                  onLoad={() => { URL.revokeObjectURL(file.preview) }}\n                />\n              </div>\n            </div>\n          ))\n        }\n        </aside>\n      </>\n      : null\n    }\n\n  </div>\n}\n","import {\n  createHashRouter,\n} from 'react-router-dom'\n\nimport App from './App.js'\nimport Upload from './pages/upload.js'\n\nexport const router = createHashRouter([\n  {\n    path: '/',\n    element: <App />,\n    children: [\n      {\n        path: '/',\n        element: <Upload />,\n      },\n      {\n        path: '*',\n        element: <Upload />,\n      },\n    ]\n  },\n]);\n","import { createSlice } from '@reduxjs/toolkit'\n\nfunction pushReplaceSearchParams(new_searchParams) {\n  let url = new URL(window.location)\n\n  const old_search_params_string = url.searchParams.toString()\n\n  const new_search_params_string = new URLSearchParams(\n    [\n      ...(\n        Array.from(url.searchParams.entries())\n          .filter(([key]) => !new_searchParams.has(key))\n      ),\n      ...(\n        [...new_searchParams.entries()]\n          .filter(([, value]) => String(value).length > 0)\n      ),\n    ]\n      .sort(([key_a], [key_b]) => key_a.localeCompare(key_b)) // sort alphabetically\n  ).toString()\n\n  if (old_search_params_string !== new_search_params_string) {\n    url = new URL(`${url.origin}${url.pathname}${new_search_params_string.length > 0 ? '?' + new_search_params_string : ''}`)\n    window.history.pushState({}, '', url)\n  }\n}\n\nexport const filterSlice = createSlice({\n  name: 'filter',\n  initialState: {\n    tags: [],\n    selectedTags: [],\n    queryText: '',\n    latitude: 0,\n    longitude: 0,\n  },\n  reducers: {\n    setTags: (state, action) => {\n      state.tags = action.payload\n    },\n    setSelectedTags: (state, action) => {\n      state.selectedTags = action.payload\n    },\n    toggleTag: (state, action) => {\n      if (state.selectedTags.includes(action.payload)) {\n        state.selectedTags = state.selectedTags.filter(tag => tag !== action.payload)\n      } else {\n        state.selectedTags.push(action.payload)\n      }\n\n      state.selectedTags = state.selectedTags.filter(Boolean)\n\n      if (state.selectedTags.length === 0) {\n        pushReplaceSearchParams(new URLSearchParams([\n          ['tags', ''],\n        ]))\n      } else {\n        pushReplaceSearchParams(new URLSearchParams([\n          ['tags', state.selectedTags.join(',')],\n        ]))\n      }\n    },\n    setQueryText: (state, action) => {\n      state.queryText = action.payload\n\n      if (state.queryText.length === 0) {\n        pushReplaceSearchParams(new URLSearchParams([\n          ['q', ''],\n        ]))\n      } else {\n        pushReplaceSearchParams(new URLSearchParams([\n          ['q', state.queryText],\n        ]))\n      }\n    },\n    setGeoLocation: (state, action) => {\n      state.latitude = action.payload.latitude\n      state.longitude = action.payload.longitude\n\n      pushReplaceSearchParams(new URLSearchParams([\n        ['lat', state.latitude],\n        ['lon', state.longitude],\n      ]))\n    },\n    clearGeoLocation: (state) => {\n      state.latitude = null\n      state.longitude = null\n\n      pushReplaceSearchParams(new URLSearchParams([\n        ['lat', ''],\n        ['lon', ''],\n      ]))\n    }\n  }\n})\n\nexport const {\n  setTags,\n  setSelectedTags,\n  toggleTag,\n  setQueryText,\n  setGeoLocation,\n  clearGeoLocation,\n} = filterSlice.actions\n\nexport const selectTags = state => state.filter.tags\nexport const selectSelectedTags = state => state.filter.selectedTags.filter(Boolean)\nexport const selectQueryText = state => state.filter.queryText\nexport const selectGeoLocation = state => ({\n  latitude: state.filter.latitude,\n  longitude: state.filter.longitude,\n})\n\nexport default filterSlice.reducer\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\n\nexport const resourcesSlice = createSlice({\n  name: 'resources',\n  initialState: {\n    resources: [],\n  },\n  reducers: {\n    setResources: (state, action) => {\n      state.resources = action.payload\n    },\n  }\n})\n\nexport const {\n  setResources,\n} = resourcesSlice.actions\n\nexport const fetchResources = createAsyncThunk('resources/fetchResources', async (value, thunkApi) => {\n  console.log('fetchResources')\n  const {\n    dispatch,\n    getState,\n  } = thunkApi || {}\n\n  const { filter } = getState()\n\n  const {\n    latitude,\n    longitude,\n    selectedTags,\n    queryText,\n  } = filter || {}\n\n  const search_params_data = {}\n\n  if (\n    latitude !== null && String(latitude).length > 0\n    && longitude !== null && String(longitude).length > 0\n  ) {\n    search_params_data.lat = latitude\n    search_params_data.lon = longitude\n  }\n\n  const filtered_selectedTags = selectedTags.filter(Boolean)\n  if (Array.isArray(filtered_selectedTags) && filtered_selectedTags.length > 0) {\n    search_params_data.tags = filtered_selectedTags.join(',')\n  }\n\n  if (typeof queryText === 'string' && queryText.length > 0) {\n    search_params_data.q = queryText\n  }\n\n  const search_params = new URLSearchParams(search_params_data).toString()\n\n  const url = `${window.urls.api}resources.json${search_params.length > 0 ? '?' + search_params : ''}`;\n\n  console.log('url', url)\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      console.log('data', data)\n      dispatch(setResources(data.resources))\n    })\n})\n\nexport const selectResources = state => state.resources.resources\n\nexport default resourcesSlice.reducer\n","import { configureStore } from '@reduxjs/toolkit'\nimport filterReducer from './slices/filterSlice.js'\nimport resourcesReducer from './slices/resourcesSlice.js'\n\nexport default configureStore({\n  reducer: {\n    filter: filterReducer,\n    resources: resourcesReducer,\n  }\n})\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport { router } from './components/router.js';\nimport {\n  RouterProvider,\n} from 'react-router-dom'\n\nimport { Provider as ReduxProvider } from 'react-redux'\nimport store from './redux/store.js'\n\n// import reportWebVitals from './reportWebVitals';\n\n// check if domain is 0.0.0.0\nconst isLocalhost = Boolean(\n  window.location.hostname === '0.0.0.0' ||\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]'\n)\n\nwindow.env = isLocalhost === true ? 'dev' : 'prod'\nwindow.urls = {\n  frontend: 'https://money.thomasrosen.me/',\n  api: 'https://money.thomasrosen.me/api/',\n}\nif (window.env === 'dev') {\n  const dev_domain = 'localhost' // 0.0.0.0\n  window.urls.frontend = `http://${dev_domain}:3000/`\n  window.urls.api = `http://${dev_domain}:13151/api/`\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <ReduxProvider store={store}>\n      <RouterProvider\n        router={router}\n        fallbackElement=\"Loadingâ€¦\"\n      />\n    </ReduxProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.info))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}