(this.webpackJsonpmoney=this.webpackJsonpmoney||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(22),c=n.n(r),s=(n(41),n(23)),l=(n(42),n(43),n(44),n(2)),i=n(5);function u(){return Object(i.jsxs)("div",{className:"app_wrapper",children:[Object(i.jsxs)("header",{children:[Object(i.jsx)("h1",{children:"\ud83c\udff3\ufe0f\u200d\ud83c\udf08 QR"}),Object(i.jsx)("a",{href:"https://github.com/thomasrosen/money",target:"_blank",rel:"noreferrer",children:"Sourcecode"})]}),Object(i.jsxs)("main",{children:[Object(i.jsx)("h1",{children:"\ud83c\udff3\ufe0f\u200d\ud83c\udf08 Queer Resources"}),Object(i.jsx)("br",{}),Object(i.jsx)("p",{children:"A collection of resources for queer people. You're of course also welcome to look through the information if you are an ally."}),Object(i.jsx)("p",{children:"You can filter the links via your location and some tags."}),Object(i.jsxs)("p",{children:["The website is maintained by ",Object(i.jsx)("a",{href:"https://thomasrosen.me/",target:"_blank",rel:"noreferrer",children:"Thomas Rosen"}),".",Object(i.jsx)("br",{}),"Send an email to ",Object(i.jsx)("a",{href:"mailto:money@thomasrosen.me",children:"money@thomasrosen.me"})," if you want to add a resource."]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)(l.a,{})]})]})}function d(){return Object(i.jsx)("div",{})}var h=Object(s.a)([{path:"/",element:Object(i.jsx)(u,{}),children:[{path:"/",element:Object(i.jsx)(d,{})},{path:"*",element:Object(i.jsx)(d,{})}]}]),j=n(36),g=n(14),f=n(4),m=n(9);function b(e){var t=new URL(window.location),n=t.searchParams.toString(),a=new URLSearchParams([].concat(Object(m.a)(Array.from(t.searchParams.entries()).filter((function(t){var n=Object(f.a)(t,1)[0];return!e.has(n)}))),Object(m.a)(Object(m.a)(e.entries()).filter((function(e){var t=Object(f.a)(e,2)[1];return String(t).length>0})))).sort((function(e,t){var n=Object(f.a)(e,1)[0],a=Object(f.a)(t,1)[0];return n.localeCompare(a)}))).toString();n!==a&&(t=new URL("".concat(t.origin).concat(t.pathname).concat(a.length>0?"?"+a:"")),window.history.pushState({},"",t))}var p=Object(g.c)({name:"filter",initialState:{tags:[],selectedTags:[],queryText:"",latitude:0,longitude:0},reducers:{setTags:function(e,t){e.tags=t.payload},setSelectedTags:function(e,t){e.selectedTags=t.payload},toggleTag:function(e,t){e.selectedTags.includes(t.payload)?e.selectedTags=e.selectedTags.filter((function(e){return e!==t.payload})):e.selectedTags.push(t.payload),e.selectedTags=e.selectedTags.filter(Boolean),0===e.selectedTags.length?b(new URLSearchParams([["tags",""]])):b(new URLSearchParams([["tags",e.selectedTags.join(",")]]))},setQueryText:function(e,t){e.queryText=t.payload,0===e.queryText.length?b(new URLSearchParams([["q",""]])):b(new URLSearchParams([["q",e.queryText]]))},setGeoLocation:function(e,t){e.latitude=t.payload.latitude,e.longitude=t.payload.longitude,b(new URLSearchParams([["lat",e.latitude],["lon",e.longitude]]))},clearGeoLocation:function(e){e.latitude=null,e.longitude=null,b(new URLSearchParams([["lat",""],["lon",""]]))}}}),w=p.actions,O=(w.setTags,w.setSelectedTags,w.toggleTag,w.setQueryText,w.setGeoLocation,w.clearGeoLocation,p.reducer),y=n(3),x=n(8),T=Object(g.c)({name:"resources",initialState:{resources:[]},reducers:{setResources:function(e,t){e.resources=t.payload}}}),S=T.actions.setResources,v=(Object(g.b)("resources/fetchResources",function(){var e=Object(x.a)(Object(y.a)().mark((function e(t,n){var a,o,r,c,s,l,i,u,d,h,j,g,f,m;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("fetchResources"),o=(a=n||{}).dispatch,r=a.getState,c=r(),s=c.filter,i=(l=s||{}).latitude,u=l.longitude,d=l.selectedTags,h=l.queryText,j={},null!==i&&String(i).length>0&&null!==u&&String(u).length>0&&(j.lat=i,j.lon=u),g=d.filter(Boolean),Array.isArray(g)&&g.length>0&&(j.tags=g.join(",")),"string"===typeof h&&h.length>0&&(j.q=h),f=new URLSearchParams(j).toString(),m="".concat(window.urls.api,"resources.json").concat(f.length>0?"?"+f:""),console.log("url",m),fetch(m).then((function(e){return e.json()})).then((function(e){console.log("data",e),o(S(e.resources))}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),T.reducer),R=Object(g.a)({reducer:{filter:O,resources:v}}),L=Boolean("0.0.0.0"===window.location.hostname||"localhost"===window.location.hostname||"[::1]"===window.location.hostname);if(window.env=!0===L?"dev":"prod",window.urls={frontend:"https://money.thomasrosen.me/",api:"https://money.thomasrosen.me/api/"},"dev"===window.env){var P="localhost";window.urls.frontend="http://".concat(P,":3000/"),window.urls.api="http://".concat(P,":13151/api/")}c.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(j.a,{store:R,children:Object(i.jsx)(l.c,{router:h,fallbackElement:"Loading\u2026"})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.d1bf5885.chunk.js.map