(this.webpackJsonpmoney=this.webpackJsonpmoney||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),c=n.n(o),s=(n(45),n(25)),i=(n(46),n(47),n(48),n(2)),l=n(3);function d(){return Object(l.jsxs)("div",{className:"app_wrapper",children:[Object(l.jsxs)("header",{children:[Object(l.jsx)("h1",{children:"\ud83d\udcb6 Money"}),Object(l.jsx)("a",{href:"https://github.com/thomasrosen/money",target:"_blank",rel:"noreferrer",children:"Sourcecode"})]}),Object(l.jsxs)("main",{children:[Object(l.jsxs)("div",{style:{width:"var(--content-box-width)",maxWidth:"100%",margin:"0 auto"},children:[Object(l.jsx)("p",{children:Object(l.jsx)("strong",{children:"A very simple tool to keep track of some of your spendings."})}),Object(l.jsxs)("p",{children:["The text recognition is handled on the server. But nothing is permanently stored there. All data is only on here in this browser on your computer. You can ",Object(l.jsx)("strong",{children:"export and import"})," the data to backup or move it to a different browser."]}),Object(l.jsxs)("p",{children:["The website is maintained by ",Object(l.jsx)("a",{href:"https://thomasrosen.me/",target:"_blank",rel:"noreferrer",children:"Thomas Rosen"}),". You can contact me at ",Object(l.jsx)("a",{href:"mailto:money@thomasrosen.me",children:"money@thomasrosen.me"}),"."]})]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(i.a,{})]})]})}var h=n(5),u=n(12),j=n(40),b={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",width:"100%",transition:"box-shadow .2s ease, background-color .2s ease"},g={boxShadow:"0 0 0 5px var(--primary-color)"},p={boxShadow:"0 0 0 5px var(--primary-color)"},m={backgroundColor:"var(--error-color)",boxShadow:"0 0 0 5px var(--error-color)"};var x=function(e){var t=e.onChange,n=Object(j.a)({maxFiles:1,accept:{"image/*":[".jpeg",".png"]},onDrop:t}),r=n.getRootProps,o=n.getInputProps,c=n.isFocused,s=n.isDragAccept,i=n.isDragReject,d=Object(a.useMemo)((function(){return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},b),c?g:{}),s?p:{}),i?m:{})}),[c,s,i]);return Object(l.jsx)("section",{className:"container",children:Object(l.jsxs)("button",Object(u.a)(Object(u.a)({class:"primary"},r({style:d})),{},{children:[Object(l.jsx)("input",Object(u.a)({},o())),i?Object(l.jsx)("strong",{children:"Only JPG and PNG images are allowed!"}):Object(l.jsx)("strong",{children:"Click or Drop an image here!"})]}))})},O={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},f={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},w={display:"flex",minWidth:0,overflow:"hidden"},y={display:"block",width:"auto",height:"100%"};function v(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],o=Object(a.useCallback)((function(e){e=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),r(e)}),[]);return Object(l.jsxs)("div",{children:[Object(l.jsx)(x,{onChange:o}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),n.length>0?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h4",{children:"Files"}),Object(l.jsx)("aside",{style:O,children:n.map((function(e){return Object(l.jsx)("div",{style:f,children:Object(l.jsx)("div",{style:w,children:Object(l.jsx)("img",{alt:"".concat(e.path," - ").concat(e.size," bytes"),title:"".concat(e.path," - ").concat(e.size," bytes"),src:e.preview,style:y,onLoad:function(){URL.revokeObjectURL(e.preview)}})})},e.name)}))})]}):null]})}var T=Object(s.a)([{path:"/",element:Object(l.jsx)(d,{}),children:[{path:"/",element:Object(l.jsx)(v,{})},{path:"*",element:Object(l.jsx)(v,{})}]}]),S=n(39),R=n(16),L=n(10);function k(e){var t=new URL(window.location),n=t.searchParams.toString(),a=new URLSearchParams([].concat(Object(L.a)(Array.from(t.searchParams.entries()).filter((function(t){var n=Object(h.a)(t,1)[0];return!e.has(n)}))),Object(L.a)(Object(L.a)(e.entries()).filter((function(e){var t=Object(h.a)(e,2)[1];return String(t).length>0})))).sort((function(e,t){var n=Object(h.a)(e,1)[0],a=Object(h.a)(t,1)[0];return n.localeCompare(a)}))).toString();n!==a&&(t=new URL("".concat(t.origin).concat(t.pathname).concat(a.length>0?"?"+a:"")),window.history.pushState({},"",t))}var P=Object(R.c)({name:"filter",initialState:{tags:[],selectedTags:[],queryText:"",latitude:0,longitude:0},reducers:{setTags:function(e,t){e.tags=t.payload},setSelectedTags:function(e,t){e.selectedTags=t.payload},toggleTag:function(e,t){e.selectedTags.includes(t.payload)?e.selectedTags=e.selectedTags.filter((function(e){return e!==t.payload})):e.selectedTags.push(t.payload),e.selectedTags=e.selectedTags.filter(Boolean),0===e.selectedTags.length?k(new URLSearchParams([["tags",""]])):k(new URLSearchParams([["tags",e.selectedTags.join(",")]]))},setQueryText:function(e,t){e.queryText=t.payload,0===e.queryText.length?k(new URLSearchParams([["q",""]])):k(new URLSearchParams([["q",e.queryText]]))},setGeoLocation:function(e,t){e.latitude=t.payload.latitude,e.longitude=t.payload.longitude,k(new URLSearchParams([["lat",e.latitude],["lon",e.longitude]]))},clearGeoLocation:function(e){e.latitude=null,e.longitude=null,k(new URLSearchParams([["lat",""],["lon",""]]))}}}),U=P.actions,q=(U.setTags,U.setSelectedTags,U.toggleTag,U.setQueryText,U.setGeoLocation,U.clearGeoLocation,P.reducer),A=n(4),B=n(9),C=Object(R.c)({name:"resources",initialState:{resources:[]},reducers:{setResources:function(e,t){e.resources=t.payload}}}),D=C.actions.setResources,G=(Object(R.b)("resources/fetchResources",function(){var e=Object(B.a)(Object(A.a)().mark((function e(t,n){var a,r,o,c,s,i,l,d,h,u,j,b,g,p;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("fetchResources"),r=(a=n||{}).dispatch,o=a.getState,c=o(),s=c.filter,l=(i=s||{}).latitude,d=i.longitude,h=i.selectedTags,u=i.queryText,j={},null!==l&&String(l).length>0&&null!==d&&String(d).length>0&&(j.lat=l,j.lon=d),b=h.filter(Boolean),Array.isArray(b)&&b.length>0&&(j.tags=b.join(",")),"string"===typeof u&&u.length>0&&(j.q=u),g=new URLSearchParams(j).toString(),p="".concat(window.urls.api,"resources.json").concat(g.length>0?"?"+g:""),console.log("url",p),fetch(p).then((function(e){return e.json()})).then((function(e){console.log("data",e),r(D(e.resources))}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C.reducer),F=Object(R.a)({reducer:{filter:q,resources:G}}),z=Boolean("0.0.0.0"===window.location.hostname||"localhost"===window.location.hostname||"[::1]"===window.location.hostname);if(window.env=!0===z?"dev":"prod",window.urls={frontend:"https://money.thomasrosen.me/",api:"https://money.thomasrosen.me/api/"},"dev"===window.env){var I="localhost";window.urls.frontend="http://".concat(I,":3000/"),window.urls.api="http://".concat(I,":13151/api/")}c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(S.a,{store:F,children:Object(l.jsx)(i.c,{router:T,fallbackElement:"Loading\u2026"})})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.1c46357a.chunk.js.map